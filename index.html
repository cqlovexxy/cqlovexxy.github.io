<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="崔庆的光影笔记，一个简约风格的静态个人博客，用于方便老婆查询天气。">
  <meta name="keywords" content="个人博客, 生活感悟, 文章分享, 崔庆">
  <title>崔庆的光影笔记</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      transition: background-color 0.5s ease;
    }

    .fade-in {
      animation: fadeIn 1.2s ease-in forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    @media (max-width: 768px) {
      .text-3xl {
          font-size: 1.875rem;
        }

      .text-2xl {
          font-size: 1.5rem;
        }
    }

    .weather-info {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      margin-bottom: 10px;
    }

    .weather-emoji {
      font-size: 24px;
      margin-right: 5px;
    }

    .weather-detail {
      margin-top: 5px;
    }
  </style>
</head>

<body class="bg-gradient-to-b from-blue-100 via-white to-purple-100 text-gray-800 min-h-screen">
  <!-- 顶部导航 -->
  <header class="bg-white shadow p-4 sticky top-0 z-50 fade-in">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-3xl font-bold text-indigo-600 fade-in">崔庆的光影笔记</h1>
      <nav class="flex space-x-4">
        <a href="#home" class="text-indigo-500 hover:underline">首页</a>
        <a href="#posts" class="text-indigo-500 hover:underline">文章</a>
      </nav>
    </div>
  </header>

  <!-- 首页内容 -->
  <section id="home" class="container mx-auto p-8 bg-white bg-opacity-80 backdrop-blur-md rounded-xl shadow-md mt-6 fade-in">
    <h2 class="text-3xl font-semibold mb-4 text-indigo-700 fade-in">欢迎来到崔庆的光影笔记</h2>
    <p class="text-lg mb-6 text-gray-700 fade-in">这是一个简约风格的静态个人博客，主要用于老婆查询天气。</p>
    <div class="text-sm text-gray-600">
      当前时间：<span id="clock"></span><br>
      今日日期：<span id="today-date"></span><br>
      <div class="weather-info" id="weather-qingxi"></div>
      <div class="weather-info" id="weather-lengshui"></div>
      <div class="weather-info" id="weather-local"></div>
      当前位置今日是否下雨：<span id="rain-today-local"></span><br>
      <span id="rain-time-row-local" style="display: none;">当前位置今日下雨时间段：<span id="rain-time-today-local"></span><br></span>
    </div>
    <p class="mt-6 text-lg text-gray-600">用文字记录世界，用心感受生活。</p>
  </section>

  <!-- 关于我部分 -->
  <section id="about-me" class="container mx-auto p-8 mt-8 bg-white bg-opacity-80 backdrop-blur-md rounded-xl shadow-md fade-in">
    <h3 class="text-2xl font-semibold mb-4 text-indigo-700">关于我</h3>
    <p class="text-lg text-gray-700">你好，我是崔庆。喜欢在平凡的生活中，发现不平凡的事物。在这片虚拟的世界里，我用文字记录那些感动、困惑、成长的瞬间，分享给每一个热爱生活的你。</p>
  </section>

  <!-- 文章列表 -->
  <section id="posts" class="container mx-auto p-8 mt-8 fade-in">
    <h2 class="text-2xl font-semibold mb-4 text-purple-700 fade-in">文章列表</h2>
    <ul class="space-y-4">
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">春日随笔：光与暖</a>
        <p class="text-gray-600 text-sm mt-1">春风拂面，万物复苏。在这个温柔的时节里，愿你能放慢脚步，感受生活的静美。无论前方如何，心中有光，就不惧远方。</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">星空下的梦想</a>
        <p class="text-gray-600 text-sm mt-1">愿你在奔赴热爱的途中，不忘仰望星空；愿你在繁华与寂静之间，寻得心安之所。文字是灵魂的出口，也是温暖的归宿。</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">岁月如歌：时光的印记</a>
        <p class="text-gray-600 text-sm mt-1">时光如歌，岁月是音符，随着我们每一个步伐轻轻奏响。回望过去，才明白有些瞬间是永远无法抹去的印记。我们所有的成长，都是这首歌的旋律。</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">在晨光中等你</a>
        <p class="text-gray-600 text-sm mt-1">清晨的阳光洒在大地上，万物苏醒。也许，你还未醒来，但这世界已经为你而亮起。在这一刻，我在晨光中等你，期待与你共度这最美的时光。</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">流星划过：短暂而美丽</a>
        <p class="text-gray-600 text-sm mt-1">在这个浩瀚的夜空中，偶尔会有流星划过。它们短暂而美丽，给我们带来无尽的遐想和希望。或许，这就是生活的真实写照：短暂但充满光辉。</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">在云端漫步</a>
        <p class="text-gray-600 text-sm mt-1">有时，我想象自己在云端漫步。轻盈地穿越白云，俯瞰这片土地上的点滴事物。或许，生活中的一些烦恼不过是云朵，随风而去，不必过于执着。</p>
      </li>
    </ul>
  </section>

  <!-- 底部信息 -->
  <footer class="bg-white bg-opacity-80 p-4 text-center text-gray-600 text-sm mt-12 rounded-t-lg fade-in">
    &copy; 2025 崔庆的光影笔记. 保留所有权利。
  </footer>

  <!-- JavaScript 部分 -->
  <script>
    // 天气相关函数模块
    (function () {
      const apiKey = '24f18e8811e97b24a0b7d578247387f1';

      function getWeatherEmoji(main) {
        switch (main) {
          case 'Clear': return '☀️';
          case 'Clouds': return '☁️';
          case 'Rain':
          case 'Drizzle': return '🌧️';
          case 'Thunderstorm': return '⛈️';
          case 'Snow': return '❄️';
          case 'Mist':
          case 'Fog':
          case 'Haze': return '🌫️';
          default: return '🌈';
        }
      }

      function setBodyBackground(main) {
        const body = document.body;
        switch (main) {
          case 'Clear': body.style.backgroundColor = '#fefce8'; break;
          case 'Clouds': body.style.backgroundColor = '#e0f2f1'; break;
          case 'Rain':
          case 'Drizzle': body.style.backgroundColor = '#cfd8dc'; break;
          case 'Thunderstorm': body.style.backgroundColor = '#b0bec5'; break;
          case 'Snow': body.style.backgroundColor = '#e0f7fa'; break;
          case 'Mist':
          case 'Fog':
          case 'Haze': body.style.backgroundColor = '#eceff1'; break;
          default: body.style.backgroundColor = '#f3e8ff'; break;
        }
      }

      async function fetchWeather(cityName, elementId) {
        const url = `https://api.openweathermap.org/data/2.5/forecast?q=${cityName},CN&appid=${apiKey}&units=metric&lang=zh_cn`;
        try {
          const response = await fetch(url);
          const data = await response.json();
          const today = new Date();
          const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
          const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
          let minTemp = Infinity;
          let maxTemp = -Infinity;
          let currentWeather;
          data.list.forEach(item => {
            const dt = new Date(item.dt * 1000);
            if (dt >= todayStart && dt < todayEnd) {
              const temp = item.main.temp;
              if (temp < minTemp) {
                minTemp = temp;
              }
              if (temp > maxTemp) {
                maxTemp = temp;
              }
              if (!currentWeather) {
                currentWeather = item;
              }
            }
          });
          const temp = currentWeather.main.temp;
          const desc = currentWeather.weather[0].description;
          const main = currentWeather.weather[0].main;
          const windSpeed = currentWeather.wind.speed;
          const humidity = currentWeather.main.humidity;
          const emoji = getWeatherEmoji(main);

          const weatherElement = document.getElementById(elementId);
          weatherElement.innerHTML = `
            <span class="weather-emoji">${emoji}</span>
            <span>${desc}, 温度: ${temp}°C</span>
            <div class="weather-detail">湿度: ${humidity}%, 温度范围: ${minTemp.toFixed(1)}°C - ${maxTemp.toFixed(1)}°C, 风速: ${windSpeed} m/s</div>
          `;

          if (elementId === 'weather-qingxi') {
            setBodyBackground(main);
          }
        } catch (error) {
          console.error(`获取 ${cityName} 天气失败：`, error);
          document.getElementById(elementId).textContent = '无法获取天气，可能是网络问题或API密钥错误';
        }
      }

      async function fetchLocalWeather() {
        if (!navigator.geolocation) {
          document.getElementById('weather-local').textContent = '您的浏览器不支持定位功能';
          return;
        }
        navigator.geolocation.getCurrentPosition(async (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=zh_cn`;
          try {
            const res = await fetch(url);
            const data = await res.json();
            const today = new Date();
            const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
            let minTemp = Infinity;
            let maxTemp = -Infinity;
            let currentWeather;
            data.list.forEach(item => {
              const dt = new Date(item.dt * 1000);
              if (dt >= todayStart && dt < todayEnd) {
                const temp = item.main.temp;
                if (temp < minTemp) {
                  minTemp = temp;
                }
                if (temp > maxTemp) {
                  maxTemp = temp;
                }
                if (!currentWeather) {
                  currentWeather = item;
                }
              }
            });
            const temp = currentWeather.main.temp;
            const desc = currentWeather.weather[0].description;
            const main = currentWeather.weather[0].main;
            const windSpeed = currentWeather.wind.speed;
            const humidity = currentWeather.main.humidity;
            const emoji = getWeatherEmoji(main);

            const weatherElement = document.getElementById('weather-local');
            weatherElement.innerHTML = `
              <span class="weather-emoji">${emoji}</span>
              <span>${desc}, 温度: ${temp}°C</span>
              <div class="weather-detail">湿度: ${humidity}%, 温度范围: ${minTemp.toFixed(1)}°C - ${maxTemp.toFixed(1)}°C, 风速: ${windSpeed} m/s</div>
            `;
          } catch (e) {
            document.getElementById('weather-local').textContent = '获取位置天气失败，可能是网络问题或API密钥错误';
          }
        }, () => {
          document.getElementById('weather-local').textContent = '获取位置失败，您可以手动输入位置查询';
        });
      }

      async function fetchLocalRainInfo() {
        if (!navigator.geolocation) {
          document.getElementById('rain-today-local').textContent = '您的浏览器不支持定位功能';
          document.getElementById('rain-time-today-local').textContent = '您的浏览器不支持定位功能';
          return;
        }
        navigator.geolocation.getCurrentPosition(async (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=zh_cn`;
          try {
            const res = await fetch(url);
            const data = await res.json();
            const today = new Date();
            const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
            let willRain = false;
            let rainTimes = [];
            data.list.forEach(item => {
              const dt = new Date(item.dt * 1000);
              if (dt >= todayStart && dt < todayEnd) {
                if (item.weather[0].main === 'Rain' || item.weather[0].main === 'Drizzle') {
                  willRain = true;
                  const time = new Date(item.dt * 1000).toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
                  rainTimes.push(time);
                }
              }
            });
            document.getElementById('rain-today-local').textContent = willRain ? '是' : '否';
            if (rainTimes.length > 0) {
              document.getElementById('rain-time-today-local').textContent = rainTimes.join(' - ');
              document.getElementById('rain-time-row-local').style.display = 'block';
            } else {
              document.getElementById('rain-time-row-local').style.display = 'none';
            }
          } catch
    
