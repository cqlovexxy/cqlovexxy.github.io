<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="å´”åº†çš„å…‰å½±ç¬”è®°ï¼Œä¸€ä¸ªç®€çº¦é£æ ¼çš„é™æ€ä¸ªäººåšå®¢ï¼Œç”¨äºæ–¹ä¾¿è€å©†æŸ¥è¯¢å¤©æ°”ã€‚">
  <meta name="keywords" content="ä¸ªäººåšå®¢, ç”Ÿæ´»æ„Ÿæ‚Ÿ, æ–‡ç« åˆ†äº«, å´”åº†">
  <title>å´”åº†çš„å…‰å½±ç¬”è®°</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      transition: background-color 0.5s ease;
    }

    .fade-in {
      animation: fadeIn 1.2s ease-in forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    @media (max-width: 768px) {
      .text-3xl {
          font-size: 1.875rem;
        }

      .text-2xl {
          font-size: 1.5rem;
        }
    }

    .weather-info {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      margin-bottom: 10px;
    }

    .weather-emoji {
      font-size: 24px;
      margin-right: 5px;
    }

    .weather-detail {
      margin-top: 5px;
    }
  </style>
</head>

<body class="bg-gradient-to-b from-blue-100 via-white to-purple-100 text-gray-800 min-h-screen">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <header class="bg-white shadow p-4 sticky top-0 z-50 fade-in">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-3xl font-bold text-indigo-600 fade-in">å´”åº†çš„å…‰å½±ç¬”è®°</h1>
      <nav class="flex space-x-4">
        <a href="#home" class="text-indigo-500 hover:underline">é¦–é¡µ</a>
        <a href="#posts" class="text-indigo-500 hover:underline">æ–‡ç« </a>
      </nav>
    </div>
  </header>

  <!-- é¦–é¡µå†…å®¹ -->
  <section id="home" class="container mx-auto p-8 bg-white bg-opacity-80 backdrop-blur-md rounded-xl shadow-md mt-6 fade-in">
    <h2 class="text-3xl font-semibold mb-4 text-indigo-700 fade-in">æ¬¢è¿æ¥åˆ°å´”åº†çš„å…‰å½±ç¬”è®°</h2>
    <p class="text-lg mb-6 text-gray-700 fade-in">è¿™æ˜¯ä¸€ä¸ªç®€çº¦é£æ ¼çš„é™æ€ä¸ªäººåšå®¢ï¼Œä¸»è¦ç”¨äºè€å©†æŸ¥è¯¢å¤©æ°”ã€‚</p>
    <div class="text-sm text-gray-600">
      å½“å‰æ—¶é—´ï¼š<span id="clock"></span><br>
      ä»Šæ—¥æ—¥æœŸï¼š<span id="today-date"></span><br>
      <div class="weather-info" id="weather-qingxi"></div>
      <div class="weather-info" id="weather-lengshui"></div>
      <div class="weather-info" id="weather-local"></div>
      å½“å‰ä½ç½®ä»Šæ—¥æ˜¯å¦ä¸‹é›¨ï¼š<span id="rain-today-local"></span><br>
      <span id="rain-time-row-local" style="display: none;">å½“å‰ä½ç½®ä»Šæ—¥ä¸‹é›¨æ—¶é—´æ®µï¼š<span id="rain-time-today-local"></span><br></span>
    </div>
    <p class="mt-6 text-lg text-gray-600">ç”¨æ–‡å­—è®°å½•ä¸–ç•Œï¼Œç”¨å¿ƒæ„Ÿå—ç”Ÿæ´»ã€‚</p>
  </section>

  <!-- å…³äºæˆ‘éƒ¨åˆ† -->
  <section id="about-me" class="container mx-auto p-8 mt-8 bg-white bg-opacity-80 backdrop-blur-md rounded-xl shadow-md fade-in">
    <h3 class="text-2xl font-semibold mb-4 text-indigo-700">å…³äºæˆ‘</h3>
    <p class="text-lg text-gray-700">ä½ å¥½ï¼Œæˆ‘æ˜¯å´”åº†ã€‚å–œæ¬¢åœ¨å¹³å‡¡çš„ç”Ÿæ´»ä¸­ï¼Œå‘ç°ä¸å¹³å‡¡çš„äº‹ç‰©ã€‚åœ¨è¿™ç‰‡è™šæ‹Ÿçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ç”¨æ–‡å­—è®°å½•é‚£äº›æ„ŸåŠ¨ã€å›°æƒ‘ã€æˆé•¿çš„ç¬é—´ï¼Œåˆ†äº«ç»™æ¯ä¸€ä¸ªçƒ­çˆ±ç”Ÿæ´»çš„ä½ ã€‚</p>
  </section>

  <!-- æ–‡ç« åˆ—è¡¨ -->
  <section id="posts" class="container mx-auto p-8 mt-8 fade-in">
    <h2 class="text-2xl font-semibold mb-4 text-purple-700 fade-in">æ–‡ç« åˆ—è¡¨</h2>
    <ul class="space-y-4">
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">æ˜¥æ—¥éšç¬”ï¼šå…‰ä¸æš–</a>
        <p class="text-gray-600 text-sm mt-1">æ˜¥é£æ‹‚é¢ï¼Œä¸‡ç‰©å¤è‹ã€‚åœ¨è¿™ä¸ªæ¸©æŸ”çš„æ—¶èŠ‚é‡Œï¼Œæ„¿ä½ èƒ½æ”¾æ…¢è„šæ­¥ï¼Œæ„Ÿå—ç”Ÿæ´»çš„é™ç¾ã€‚æ— è®ºå‰æ–¹å¦‚ä½•ï¼Œå¿ƒä¸­æœ‰å…‰ï¼Œå°±ä¸æƒ§è¿œæ–¹ã€‚</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">æ˜Ÿç©ºä¸‹çš„æ¢¦æƒ³</a>
        <p class="text-gray-600 text-sm mt-1">æ„¿ä½ åœ¨å¥”èµ´çƒ­çˆ±çš„é€”ä¸­ï¼Œä¸å¿˜ä»°æœ›æ˜Ÿç©ºï¼›æ„¿ä½ åœ¨ç¹åä¸å¯‚é™ä¹‹é—´ï¼Œå¯»å¾—å¿ƒå®‰ä¹‹æ‰€ã€‚æ–‡å­—æ˜¯çµé­‚çš„å‡ºå£ï¼Œä¹Ÿæ˜¯æ¸©æš–çš„å½’å®¿ã€‚</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">å²æœˆå¦‚æ­Œï¼šæ—¶å…‰çš„å°è®°</a>
        <p class="text-gray-600 text-sm mt-1">æ—¶å…‰å¦‚æ­Œï¼Œå²æœˆæ˜¯éŸ³ç¬¦ï¼Œéšç€æˆ‘ä»¬æ¯ä¸€ä¸ªæ­¥ä¼è½»è½»å¥å“ã€‚å›æœ›è¿‡å»ï¼Œæ‰æ˜ç™½æœ‰äº›ç¬é—´æ˜¯æ°¸è¿œæ— æ³•æŠ¹å»çš„å°è®°ã€‚æˆ‘ä»¬æ‰€æœ‰çš„æˆé•¿ï¼Œéƒ½æ˜¯è¿™é¦–æ­Œçš„æ—‹å¾‹ã€‚</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">åœ¨æ™¨å…‰ä¸­ç­‰ä½ </a>
        <p class="text-gray-600 text-sm mt-1">æ¸…æ™¨çš„é˜³å…‰æ´’åœ¨å¤§åœ°ä¸Šï¼Œä¸‡ç‰©è‹é†’ã€‚ä¹Ÿè®¸ï¼Œä½ è¿˜æœªé†’æ¥ï¼Œä½†è¿™ä¸–ç•Œå·²ç»ä¸ºä½ è€Œäº®èµ·ã€‚åœ¨è¿™ä¸€åˆ»ï¼Œæˆ‘åœ¨æ™¨å…‰ä¸­ç­‰ä½ ï¼ŒæœŸå¾…ä¸ä½ å…±åº¦è¿™æœ€ç¾çš„æ—¶å…‰ã€‚</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">æµæ˜Ÿåˆ’è¿‡ï¼šçŸ­æš‚è€Œç¾ä¸½</a>
        <p class="text-gray-600 text-sm mt-1">åœ¨è¿™ä¸ªæµ©ç€šçš„å¤œç©ºä¸­ï¼Œå¶å°”ä¼šæœ‰æµæ˜Ÿåˆ’è¿‡ã€‚å®ƒä»¬çŸ­æš‚è€Œç¾ä¸½ï¼Œç»™æˆ‘ä»¬å¸¦æ¥æ— å°½çš„éæƒ³å’Œå¸Œæœ›ã€‚æˆ–è®¸ï¼Œè¿™å°±æ˜¯ç”Ÿæ´»çš„çœŸå®å†™ç…§ï¼šçŸ­æš‚ä½†å……æ»¡å…‰è¾‰ã€‚</p>
      </li>
      <li class="p-4 bg-white bg-opacity-90 rounded-xl shadow hover:shadow-lg transition-transform hover:scale-105">
        <a href="#" class="text-xl text-indigo-600 font-medium hover:underline">åœ¨äº‘ç«¯æ¼«æ­¥</a>
        <p class="text-gray-600 text-sm mt-1">æœ‰æ—¶ï¼Œæˆ‘æƒ³è±¡è‡ªå·±åœ¨äº‘ç«¯æ¼«æ­¥ã€‚è½»ç›ˆåœ°ç©¿è¶Šç™½äº‘ï¼Œä¿¯ç°è¿™ç‰‡åœŸåœ°ä¸Šçš„ç‚¹æ»´äº‹ç‰©ã€‚æˆ–è®¸ï¼Œç”Ÿæ´»ä¸­çš„ä¸€äº›çƒ¦æ¼ä¸è¿‡æ˜¯äº‘æœµï¼Œéšé£è€Œå»ï¼Œä¸å¿…è¿‡äºæ‰§ç€ã€‚</p>
      </li>
    </ul>
  </section>

  <!-- åº•éƒ¨ä¿¡æ¯ -->
  <footer class="bg-white bg-opacity-80 p-4 text-center text-gray-600 text-sm mt-12 rounded-t-lg fade-in">
    &copy; 2025 å´”åº†çš„å…‰å½±ç¬”è®°. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚
  </footer>

  <!-- JavaScript éƒ¨åˆ† -->
  <script>
    // å¤©æ°”ç›¸å…³å‡½æ•°æ¨¡å—
    (function () {
      const apiKey = '24f18e8811e97b24a0b7d578247387f1';

      function getWeatherEmoji(main) {
        switch (main) {
          case 'Clear': return 'â˜€ï¸';
          case 'Clouds': return 'â˜ï¸';
          case 'Rain':
          case 'Drizzle': return 'ğŸŒ§ï¸';
          case 'Thunderstorm': return 'â›ˆï¸';
          case 'Snow': return 'â„ï¸';
          case 'Mist':
          case 'Fog':
          case 'Haze': return 'ğŸŒ«ï¸';
          default: return 'ğŸŒˆ';
        }
      }

      function setBodyBackground(main) {
        const body = document.body;
        switch (main) {
          case 'Clear': body.style.backgroundColor = '#fefce8'; break;
          case 'Clouds': body.style.backgroundColor = '#e0f2f1'; break;
          case 'Rain':
          case 'Drizzle': body.style.backgroundColor = '#cfd8dc'; break;
          case 'Thunderstorm': body.style.backgroundColor = '#b0bec5'; break;
          case 'Snow': body.style.backgroundColor = '#e0f7fa'; break;
          case 'Mist':
          case 'Fog':
          case 'Haze': body.style.backgroundColor = '#eceff1'; break;
          default: body.style.backgroundColor = '#f3e8ff'; break;
        }
      }

      async function fetchWeather(cityName, elementId) {
        const url = `https://api.openweathermap.org/data/2.5/forecast?q=${cityName},CN&appid=${apiKey}&units=metric&lang=zh_cn`;
        try {
          const response = await fetch(url);
          const data = await response.json();
          const today = new Date();
          const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
          const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
          let minTemp = Infinity;
          let maxTemp = -Infinity;
          let currentWeather;
          data.list.forEach(item => {
            const dt = new Date(item.dt * 1000);
            if (dt >= todayStart && dt < todayEnd) {
              const temp = item.main.temp;
              if (temp < minTemp) {
                minTemp = temp;
              }
              if (temp > maxTemp) {
                maxTemp = temp;
              }
              if (!currentWeather) {
                currentWeather = item;
              }
            }
          });
          const temp = currentWeather.main.temp;
          const desc = currentWeather.weather[0].description;
          const main = currentWeather.weather[0].main;
          const windSpeed = currentWeather.wind.speed;
          const humidity = currentWeather.main.humidity;
          const emoji = getWeatherEmoji(main);

          const weatherElement = document.getElementById(elementId);
          weatherElement.innerHTML = `
            <span class="weather-emoji">${emoji}</span>
            <span>${desc}, æ¸©åº¦: ${temp}Â°C</span>
            <div class="weather-detail">æ¹¿åº¦: ${humidity}%, æ¸©åº¦èŒƒå›´: ${minTemp.toFixed(1)}Â°C - ${maxTemp.toFixed(1)}Â°C, é£é€Ÿ: ${windSpeed} m/s</div>
          `;

          if (elementId === 'weather-qingxi') {
            setBodyBackground(main);
          }
        } catch (error) {
          console.error(`è·å– ${cityName} å¤©æ°”å¤±è´¥ï¼š`, error);
          document.getElementById(elementId).textContent = 'æ— æ³•è·å–å¤©æ°”ï¼Œå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–APIå¯†é’¥é”™è¯¯';
        }
      }

      async function fetchLocalWeather() {
        if (!navigator.geolocation) {
          document.getElementById('weather-local').textContent = 'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒå®šä½åŠŸèƒ½';
          return;
        }
        navigator.geolocation.getCurrentPosition(async (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=zh_cn`;
          try {
            const res = await fetch(url);
            const data = await res.json();
            const today = new Date();
            const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
            let minTemp = Infinity;
            let maxTemp = -Infinity;
            let currentWeather;
            data.list.forEach(item => {
              const dt = new Date(item.dt * 1000);
              if (dt >= todayStart && dt < todayEnd) {
                const temp = item.main.temp;
                if (temp < minTemp) {
                  minTemp = temp;
                }
                if (temp > maxTemp) {
                  maxTemp = temp;
                }
                if (!currentWeather) {
                  currentWeather = item;
                }
              }
            });
            const temp = currentWeather.main.temp;
            const desc = currentWeather.weather[0].description;
            const main = currentWeather.weather[0].main;
            const windSpeed = currentWeather.wind.speed;
            const humidity = currentWeather.main.humidity;
            const emoji = getWeatherEmoji(main);

            const weatherElement = document.getElementById('weather-local');
            weatherElement.innerHTML = `
              <span class="weather-emoji">${emoji}</span>
              <span>${desc}, æ¸©åº¦: ${temp}Â°C</span>
              <div class="weather-detail">æ¹¿åº¦: ${humidity}%, æ¸©åº¦èŒƒå›´: ${minTemp.toFixed(1)}Â°C - ${maxTemp.toFixed(1)}Â°C, é£é€Ÿ: ${windSpeed} m/s</div>
            `;
          } catch (e) {
            document.getElementById('weather-local').textContent = 'è·å–ä½ç½®å¤©æ°”å¤±è´¥ï¼Œå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–APIå¯†é’¥é”™è¯¯';
          }
        }, () => {
          document.getElementById('weather-local').textContent = 'è·å–ä½ç½®å¤±è´¥ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨è¾“å…¥ä½ç½®æŸ¥è¯¢';
        });
      }

      async function fetchLocalRainInfo() {
        if (!navigator.geolocation) {
          document.getElementById('rain-today-local').textContent = 'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒå®šä½åŠŸèƒ½';
          document.getElementById('rain-time-today-local').textContent = 'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒå®šä½åŠŸèƒ½';
          return;
        }
        navigator.geolocation.getCurrentPosition(async (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=zh_cn`;
          try {
            const res = await fetch(url);
            const data = await res.json();
            const today = new Date();
            const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const todayEnd = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);
            let willRain = false;
            let rainTimes = [];
            data.list.forEach(item => {
              const dt = new Date(item.dt * 1000);
              if (dt >= todayStart && dt < todayEnd) {
                if (item.weather[0].main === 'Rain' || item.weather[0].main === 'Drizzle') {
                  willRain = true;
                  const time = new Date(item.dt * 1000).toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
                  rainTimes.push(time);
                }
              }
            });
            document.getElementById('rain-today-local').textContent = willRain ? 'æ˜¯' : 'å¦';
            if (rainTimes.length > 0) {
              document.getElementById('rain-time-today-local').textContent = rainTimes.join(' - ');
              document.getElementById('rain-time-row-local').style.display = 'block';
            } else {
              document.getElementById('rain-time-row-local').style.display = 'none';
            }
          } catch
    
